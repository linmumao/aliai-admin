(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dc79d100"],{"159b":function(e,t,r){var i=r("da84"),a=r("fdbc"),s=r("17c2"),o=r("9112");for(var n in a){var m=i[n],c=m&&m.prototype;if(c&&c.forEach!==s)try{o(c,"forEach",s)}catch(l){c.forEach=s}}},"17c2":function(e,t,r){"use strict";var i=r("b727").forEach,a=r("a640"),s=a("forEach");e.exports=s?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},"1ba6":function(e,t,r){"use strict";r("4f78")},"4f78":function(e,t,r){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var i=r("1d80"),a=r("577e"),s=r("5899"),o="["+s+"]",n=RegExp("^"+o+o+"*"),m=RegExp(o+o+"*$"),c=function(e){return function(t){var r=a(i(t));return 1&e&&(r=r.replace(n,"")),2&e&&(r=r.replace(m,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},"61e2":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGvSURBVHgB7VTNUcJQEN59PNSjHZgOhArACsAKgIM6zMBoKiBUEBkOOOMB6UAqMB0QOsAOuBKSt+57SRBIguNZ95Cft5tvv939NgB/zvCU03UndSFljZAs/U5R9AkK3my7u/oVoOtOL1EGUyCoM9gMiPw4GitI2ACBHm2jYR4w5rCyUIoPAppDeO7YdmediRlPHATRovCseuyXGXoSHAI1s/tdJ2Ur5Kaln1VIc81K+9zxS1wFwO3+5yLDjkQtBTMlyGBBKCoKqKqZ6wTGwez5Wme29UJAfmsTcanfCTiYVk+9+w4naTP8SpQ3Ne3TpZLS/RWVYkAACzAZgLELn8LITtkzuKW2tNy5ORYFXsNBx05Y0nB/NyiE0SnJZBlqdoSVTFSJmiwZz+49PB+cc6zRZjEg6hJau8anFuE7bcv2cR6ObWihFwJy4z2+eVgOBgdBUrREOWjsn43GrwPD+qgFmR6yWDtYChb8wfqxfzfUZypUMx6QEbDZolIwIFJNCtVNhjXkmJkoC5y3oRZvTDJ5yasHqEXu6cR5W/TTz8HS2sQSXplgAp8Fvkxa82+xfQHrjsynMQ1bnQAAAABJRU5ErkJggg=="},7156:function(e,t,r){var i=r("861d"),a=r("d2bb");e.exports=function(e,t,r){var s,o;return a&&"function"==typeof(s=t.constructor)&&s!==r&&i(o=s.prototype)&&o!==r.prototype&&a(e,o),e}},a640:function(e,t,r){"use strict";var i=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&i((function(){r.call(null,t||function(){throw 1},1)}))}},a9e3:function(e,t,r){"use strict";var i=r("83ab"),a=r("da84"),s=r("94ca"),o=r("6eeb"),n=r("5135"),m=r("c6b6"),c=r("7156"),l=r("d9b5"),d=r("c04e"),h=r("d039"),p=r("7c73"),f=r("241c").f,u=r("06cf").f,g=r("9bf2").f,v=r("58a8").trim,w="Number",b=a[w],y=b.prototype,S=m(p(y))==w,T=function(e){if(l(e))throw TypeError("Cannot convert a Symbol value to a number");var t,r,i,a,s,o,n,m,c=d(e,"number");if("string"==typeof c&&c.length>2)if(c=v(c),t=c.charCodeAt(0),43===t||45===t){if(r=c.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+c}for(s=c.slice(2),o=s.length,n=0;n<o;n++)if(m=s.charCodeAt(n),m<48||m>a)return NaN;return parseInt(s,i)}return+c};if(s(w,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var N,_=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof _&&(S?h((function(){y.valueOf.call(r)})):m(r)!=w)?c(new b(T(t)),r,_):T(t)},I=i?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),L=0;I.length>L;L++)n(b,N=I[L])&&!n(_,N)&&g(_,N,u(b,N));_.prototype=y,y.constructor=_,o(a,w,_)}},b727:function(e,t,r){var i=r("0366"),a=r("44ad"),s=r("7b0b"),o=r("50c4"),n=r("65f0"),m=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,l=4==e,d=6==e,h=7==e,p=5==e||d;return function(f,u,g,v){for(var w,b,y=s(f),S=a(y),T=i(u,g,3),N=o(S.length),_=0,I=v||n,L=t?I(f,N):r||h?I(f,0):void 0;N>_;_++)if((p||_ in S)&&(w=S[_],b=T(w,_,y),e))if(t)L[_]=b;else if(b)switch(e){case 3:return!0;case 5:return w;case 6:return _;case 2:m.call(L,w)}else switch(e){case 4:return!1;case 7:m.call(L,w)}return d?-1:c||l?l:L}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},cf7d:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"productDetail themeBgc"},[i("div",[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{staticClass:"myColor",attrs:{to:{path:"/addweb/downstreamManagement/cooperativeNumber"}}},[e._v("合作产品 ")]),i("el-breadcrumb-item",{directives:[{name:"show",rawName:"v-show",value:"-1"==e.editStatus,expression:"editStatus == '-1'"}]},[e._v("新增合作产品")]),i("el-breadcrumb-item",{directives:[{name:"show",rawName:"v-show",value:"-1"!==e.editStatus,expression:"editStatus !== '-1'"}]},[e._v("合作产品详情")])],1)],1),i("div",{staticClass:"bigBox"},[e._m(0),i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[i("el-form-item",{staticStyle:{"margin-top":"0.941176rem"},attrs:{required:"",label:"选择机构：",prop:"lowerId"}},[i("el-select",{staticStyle:{width:"30.5%"},attrs:{"popper-append-to-body":!1,placeholder:"请选择"},on:{change:e.changeMechanism},model:{value:e.form.lowerId,callback:function(t){e.$set(e.form,"lowerId","string"===typeof t?t.trim():t)},expression:"form.lowerId"}},e._l(e.instiList,(function(e,t){return i("el-option",{key:t,attrs:{label:e.orgName,value:e.id}})})),1)],1),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShowChannel,expression:"isShowChannel"}],staticStyle:{"margin-top":"0.941176rem"},attrs:{required:"",label:"选择渠道：",prop:"channelId"}},[i("el-select",{staticStyle:{width:"30.5%"},attrs:{"popper-append-to-body":!1,placeholder:"请选择"},on:{change:e.changeChannel},model:{value:e.form.channelId,callback:function(t){e.$set(e.form,"channelId","string"===typeof t?t.trim():t)},expression:"form.channelId"}},e._l(e.channelList,(function(e,t){return i("el-option",{key:t,attrs:{label:e.channelName,value:e.id}})})),1)],1),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isShowPromoter,expression:"isShowPromoter"}],staticStyle:{"margin-top":"0.941176rem"},attrs:{required:"",label:"选择推广员：",prop:"promoterId"}},[i("el-select",{staticStyle:{width:"30.5%"},attrs:{"popper-append-to-body":!1,placeholder:"请选择"},on:{change:e.changePromoter},model:{value:e.form.promoterId,callback:function(t){e.$set(e.form,"promoterId","string"===typeof t?t.trim():t)},expression:"form.promoterId"}},e._l(e.promList,(function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),i("el-form-item",{staticStyle:{"margin-top":"0.941176rem"},attrs:{required:"",label:"所属上游：",prop:"superId"}},[i("el-input",{staticStyle:{width:"30.5%"},attrs:{disabled:""},model:{value:e.upNameText,callback:function(t){e.upNameText=t},expression:"upNameText"}})],1),i("el-form-item",{staticStyle:{"margin-top":"0.941176rem"},attrs:{required:"",label:"产品名称：",prop:"proId"}},[i("el-select",{staticStyle:{width:"30.5%"},attrs:{"popper-append-to-body":!1,placeholder:"请选择"},on:{change:e.productStandard},model:{value:e.form.proId,callback:function(t){e.$set(e.form,"proId","string"===typeof t?t.trim():t)},expression:"form.proId"}},e._l(e.nameList,(function(e,t){return i("el-option",{key:t,attrs:{label:e.productName||e.proName,value:e.productListId||e.proId}})})),1)],1)],1)],1),i("div",{staticClass:"bigBox"},[i("div",{staticClass:"right2 flex_r_ic",staticStyle:{"margin-top":"0px",position:"relative"}},[i("div",{staticClass:"fontS_m fontW_b fontC_303133",staticStyle:{"margin-left":"24px","margin-top":"24px","font-weight":"800"}},[e._v("结算类型 "),i("img",{staticStyle:{margin:"0 0 0 5px"},attrs:{id:"imgShow",src:r("61e2"),alt:""},on:{mouseover:function(t){return e.changeActive(t)},mouseout:e.moveOut}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowLimit,expression:"isShowLimit"}],staticClass:"limitContent"},[i("div",[e._v("阶梯限制，下游每层级价格需大于上层，即上游价小于机构价小于渠道价小于推广员价 ")]),i("div",{staticStyle:{margin:"7px 0 0 0"}},[e._v(" 总和限制，下游总和不可超过上游价，即机构价+渠道价+推广员价小于等于上游价 ")])])])]),i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{"margin-top":"0.941176rem"},attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"价格类型：",required:"",prop:"priceType"}},[i("el-radio-group",{model:{value:e.form.priceType,callback:function(t){e.$set(e.form,"priceType",t)},expression:"form.priceType"}},[i("el-radio",{attrs:{label:1}},[e._v("阶梯限制")]),i("el-radio",{attrs:{label:2}},[e._v("总和限制")])],1)],1),i("el-form-item",{attrs:{label:"结算标准：",required:"",prop:"settlementList"}},[i("table",{directives:[{name:"show",rawName:"v-show",value:e.isShowOne,expression:"isShowOne"}],staticClass:"standardContent",attrs:{border:""}},[i("tr",{staticStyle:{"background-color":"#F5F7FA"}},[i("td",[e._v("结算标准")]),i("td",[e._v("卡类型")]),i("td",[e._v("卡等级")]),i("td",[e._v("上游价")]),i("td",[e._v("机构价")]),i("td",[e._v("渠道价")])]),e._l(e.form.settlementList,(function(t,r){return i("tr",{key:r},[i("th",[e._v(e._s(t.settlementStandardName))]),i("th",[e._v(e._s(t.cardTypeName))]),i("th",[e._v(e._s(t.cardGradeName))]),i("th",[e._v(e._s(t.price)+" ")]),i("th",[i("el-input",{model:{value:t.lowerPrice,callback:function(r){e.$set(t,"lowerPrice","string"===typeof r?r.trim():r)},expression:"item.lowerPrice"}},[e._v(e._s(t.lowerPrice))])],1),i("th",[i("el-input",{model:{value:t.channelPrice,callback:function(r){e.$set(t,"channelPrice","string"===typeof r?r.trim():r)},expression:"item.channelPrice"}},[e._v(e._s(t.channelPrice))])],1)])}))],2),i("table",{directives:[{name:"show",rawName:"v-show",value:e.isShowTwo,expression:"isShowTwo"}],staticClass:"standardContent",attrs:{border:""}},[i("tr",{staticStyle:{"background-color":"#F5F7FA"}},[i("td",[e._v("结算标准")]),i("td",[e._v("卡类型")]),i("td",[e._v("卡等级")]),i("td",[e._v("机构价")]),i("td",[e._v("渠道价")]),i("td",[e._v("推广员价")])]),e._l(e.form.settlementList,(function(t,r){return i("tr",{key:r},[i("th",[e._v(e._s(t.settlementStandardName))]),i("th",[e._v(e._s(t.cardTypeName))]),i("th",[e._v(e._s(t.cardGradeName))]),i("th",[e._v(e._s(t.lowerPrice)+" ")]),i("th",[i("el-input",{model:{value:t.channelPrice,callback:function(r){e.$set(t,"channelPrice","string"===typeof r?r.trim():r)},expression:"item.channelPrice"}},[e._v(e._s(t.channelPrice))])],1),i("th",[i("el-input",{model:{value:t.promoterPrice,callback:function(r){e.$set(t,"promoterPrice","string"===typeof r?r.trim():r)},expression:"item.promoterPrice"}},[e._v(e._s(t.promoterPrice))])],1)])}))],2),i("table",{directives:[{name:"show",rawName:"v-show",value:e.isShowThree,expression:"isShowThree"}],staticClass:"standardContent",attrs:{border:""}},[i("tr",{staticStyle:{"background-color":"#F5F7FA"}},[i("td",[e._v("结算标准")]),i("td",[e._v("卡类型")]),i("td",[e._v("卡等级")]),i("td",[e._v("推广员价")])]),e._l(e.form.settlementList,(function(t,r){return i("tr",{key:r},[i("th",[e._v(e._s(t.settlementStandardName))]),i("th",[e._v(e._s(t.cardTypeName))]),i("th",[e._v(e._s(t.cardGradeName))]),i("th",[i("el-input",{model:{value:t.promoterPrice,callback:function(r){e.$set(t,"promoterPrice","string"===typeof r?r.trim():r)},expression:"item.promoterPrice"}},[e._v(e._s(t.promoterPrice))])],1)])}))],2)])],1)],1),i("div",{staticClass:"bigBox"},[e._m(1),i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{"margin-top":"0.941176rem"},attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"生效时间：",required:"",prop:"beginTime"}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","default-time":"12:00:00"},model:{value:e.form.beginTime,callback:function(t){e.$set(e.form,"beginTime",t)},expression:"form.beginTime"}})],1),i("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[i("el-input",{staticClass:"miniInput",staticStyle:{width:"460px"},attrs:{maxlength:"35"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark","string"===typeof t?t.trim():t)},expression:"form.remark"}})],1)],1)],1),i("div",{staticClass:"flex_d_center footerBox"},[i("el-button",{on:{click:e.goBack}},[e._v("返回")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:"-1"==e.editStatus,expression:"editStatus == '-1'"}],attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:"-1"!==e.editStatus,expression:"editStatus !== '-1'"}],attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")])],1)])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"right2 flex_r_ic",staticStyle:{"margin-top":"0px"}},[r("div",{staticClass:"fontS_m fontW_b fontC_303133",staticStyle:{"margin-left":"24px","margin-top":"24px","font-weight":"800"}},[e._v("产品类型 ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"right2 flex_r_ic",staticStyle:{"margin-top":"0px"}},[r("div",{staticClass:"fontS_m fontW_b fontC_303133",staticStyle:{"margin-left":"24px","margin-top":"24px","font-weight":"800"}},[e._v("基本信息 ")])])}],s=(r("159b"),r("a9e3"),r("e072")),o={name:"productDetail",data:function(){return{radio:3,radioInvoicing:2,editStatus:"-1",typeList:"",orgTreeList:[],form:{beginTime:"",channelId:"",lowerId:"",priceType:1,proId:"",promoterId:"",relationType:"0",remark:"",settlementList:[{channelPrice:"",id:0,lowerPrice:"",promoterPrice:"",settlementId:""}],superId:""},value:"",imageUrl:"",rules:{lowerId:[{required:!0,message:"请选择机构",trigger:"change"}],proId:[{required:!0,message:"请选择产品名称",trigger:"change"}],channelId:[{required:!0,message:"请选择渠道",trigger:"change"}],promoterId:[{required:!0,message:"请选择推广员",trigger:"change"}],beginTime:[{required:!0,message:"请选择生效时间",trigger:"blur"}]},belongsList:[{id:"1",name:"机构合作产品"},{id:"2",name:"渠道合作产品"},{id:"3",name:"推广员合作产品"}],isShowOne:!0,isShowTwo:!1,isShowThree:!1,valueTime:"",instiList:[],channelList:[],promList:[],upList:[{upName:"",upMangerId:""}],nameList:[],isShowChannel:!1,isShowPromoter:!1,sourceUpName:"",upNameText:"",isShowLimit:!1}},created:function(){var e=this;this.editStatus=this.$route.query.editStatus,this.form.relationType=this.$route.query.relationType,0==this.form.relationType?(this.isShowChannel=!1,this.isShowPromoter=!1,this.isShowOne=!0,this.isShowTwo=!1,this.isShowThree=!1):1==this.form.relationType?(this.isShowChannel=!0,this.isShowPromoter=!1,this.isShowOne=!1,this.isShowTwo=!0,this.isShowThree=!1):2==this.form.relationType&&(this.isShowChannel=!0,this.isShowPromoter=!0,this.isShowOne=!1,this.isShowTwo=!1,this.isShowThree=!0),1==this.$route.query.editStatus&&Object(s["z"])(this.$route.query.id).then((function(t){e.form=t.data,t.data.settlementList.forEach((function(e){e.settlementStandardName=e.settlementStandard,e.cardTypeName=e.cardType,e.cardGradeName=e.cardGrade})),e.changeMechanism(t.data.lowerId,"1"),2==e.form.relationType&&(e.getChannel(),e.getCooppro())})),Object(s["p"])({beginTime:"",currentPage:1,endTime:"",orgName:"",pageSize:99999,status:""}).then((function(t){e.instiList=t.data.list}))},methods:{moveOut:function(){this.isShowLimit=!1},changeActive:function(){this.isShowLimit=!0},changeMechanism:function(e,t){var r=this;"1"!==t&&(this.form.channelId="",this.form.promoterId="",this.upNameText="",this.form.proId="",this.form.settlementList=[]),Object(s["o"])(e).then((function(t){0==t.code?(r.upNameText=t.data.superName,r.form.superId=t.data.superId,Object(s["u"])({currentPage:1,endTime:"",pageSize:99999,phone:"",createTime:"",status:0,upName:"",lowerId:e}).then((function(e){r.channelList=e.data.list})),"0"==r.form.relationType?Object(s["eb"])({createTime:"",currentPage:1,failureTime:"",pageSize:99999,productName:"",productType:"",sourceUpName:"",status:0,upMangerId:r.form.superId}).then((function(e){0==e.code&&(r.nameList=e.data.list)})):"1"==r.form.relationType&&Object(s["A"])({beginTime:"",channelId:"",currentPage:1,endTime:"",lowerId:r.form.lowerId,pageSize:99999,proName:"",promoterId:"",relationType:"0",status:0}).then((function(e){r.nameList=e.data.list}))):r.$message.error(t.msg)}))},getChannel:function(){var e=this;Object(s["I"])({currentPage:1,endTime:"",pageSize:99999,phone:"",createTime:"",status:0,upName:"",channelId:this.form.channelId}).then((function(t){e.promList=t.data.list}))},getCooppro:function(){var e=this;Object(s["A"])({beginTime:"",channelId:this.form.channelId,currentPage:1,endTime:"",lowerId:"",pageSize:99999,proName:"",promoterId:"",relationType:"1",status:0}).then((function(t){e.nameList=t.data.list}))},changeChannel:function(){this.form.promoterId="","2"==this.form.relationType&&(this.form.proId="",this.form.settlementList=[],this.getChannel(),this.getCooppro())},changePromoter:function(){},productStandard:function(e){var t,r=this;this.nameList.forEach((function(r){r.proId!=e&&r.productListId!=e||(t=r.id)})),"0"==this.form.relationType?Object(s["ib"])({id:e}).then((function(e){r.form.settlementList=e.data.prices,e.data.prices.forEach((function(e){r.form.settlementList.forEach((function(t){t.settlementId=e.id}))})),r.form.settlementList=e.data.prices,r.form.settlementList.forEach((function(e){"1"==e.settlementStandard?e.settlementStandardName="有效新户":"2"==e.settlementStandard?e.settlementStandardName="次月留存":"3"==e.settlementStandard?e.settlementStandardName="新户领劵":"4"==e.settlementStandard?e.settlementStandardName="新户开户":"5"==e.settlementStandard?e.settlementStandardName="新户入金":"6"==e.settlementStandard?e.settlementStandardName="新户进件":"7"==e.settlementStandard?e.settlementStandardName="新户核卡":"8"==e.settlementStandard?e.settlementStandardName="新户激活":"9"==e.settlementStandard&&(e.settlementStandardName="新户首刷"),"0"==e.cardType?(e.cardTypeName="无","0"==e.cardGrade&&(e.cardGradeName="无")):"1"==e.cardType?(e.cardTypeName="借记卡","1"==e.cardGrade?e.cardGradeName="I类户":"2"==e.cardGrade?e.cardGradeName="II类户":"3"==e.cardGrade&&(e.cardGradeName="III类户")):"2"!=e.cardType&&"3"!=e.cardType||(e.cardTypeName="贷记卡","0"==e.cardGrade?e.cardGradeName="无":"4"==e.cardGrade?e.cardGradeName="中端卡":"5"==e.cardGrade&&(e.cardGradeName="高端卡"))}))})):Object(s["z"])(t).then((function(e){r.form.settlementList=e.data.settlementList,e.data.settlementList.forEach((function(e){r.form.settlementList.forEach((function(t){e.settlementStandardName=e.settlementStandard,e.cardTypeName=e.cardType,e.cardGradeName=e.cardGrade}))}))}))},goBack:function(){this.$router.push("/addweb/downstreamManagement/cooperativeNumber?relationType="+this.form.relationType)},submitForm:function(e){var t=this;if(0==this.form.relationType)for(var r=0;r<this.form.settlementList.length;r++){if(!this.form.settlementList[r].lowerPrice)return void this.$message.error("请输入机构价");if(!this.form.settlementList[r].channelPrice)return void this.$message.error("请输入渠道价");if(1==this.form.priceType&&this.form.settlementList[r].price>=this.form.settlementList[r].lowerPrice)return void this.$message.error("当前价格类型不支持设置此价格，请重新设置");if(1==this.form.priceType&&this.form.settlementList[r].lowerPrice>=this.form.settlementList[r].channelPrice)return void this.$message.error("当前价格类型不支持设置此价格，请重新设置");if(2==this.form.priceType&&this.form.settlementList[r].price<this.form.settlementList[r].lowerPrice)return void this.$message.error("当前价格类型不支持设置此价格，请重新设置");if(2==this.form.priceType&&this.form.settlementList[r].price<this.form.settlementList[r].channelPrice)return void this.$message.error("当前价格类型不支持设置此价格，请重新设置");if(2==this.form.priceType&&this.form.settlementList[r].price<Number(this.form.settlementList[r].lowerPrice)+Number(this.form.settlementList[r].channelPrice))return void this.$message.error("当前价格类型不支持设置此价格，请重新设置")}else if(1==this.form.relationType)for(var i=0;i<this.form.settlementList.length;i++){if(!this.form.settlementList[i].channelPrice)return void this.$message.error("请输入渠道价");if(!this.form.settlementList[i].promoterPrice)return void this.$message.error("请输入推广员价");if("1"==this.form.priceType&&this.form.settlementList[i].price>=this.form.settlementList[i].channelPrice)return void this.$message.error("当前价格类型不支持设置此价格，请重新设置");if("1"==this.form.priceType&&this.form.settlementList[i].channelPrice>=this.form.settlementList[i].promoterPrice)return void this.$message.error("当前价格类型不支持设置此价格，请重新设置");if("2"==this.form.priceType&&this.form.settlementList[i].price<this.form.settlementList[i].channelPrice)return void this.$message.error("当前价格类型不支持设置此价格，请重新设置");if("2"==this.form.priceType&&this.form.settlementList[i].price<this.form.settlementList[i].promoterPrice)return void this.$message.error("当前价格类型不支持设置此价格，请重新设置");if("2"==this.form.priceType&&this.form.settlementList[i].price<Number(this.form.settlementList[i].lowerPrice)+Number(this.form.settlementList[i].channelPrice)+Number(this.form.settlementList[i].promoterPrice))return void this.$message.error("当前价格类型不支持设置此价格，请重新设置")}else if(2==this.form.relationType)for(var a=0;a<this.form.settlementList.length;a++){if(!this.form.settlementList[a].promoterPrice)return void this.$message.error("请输入推广员价");if("2"==this.form.priceType&&this.form.settlementList[a].price<Number(this.form.settlementList[a].lowerPrice)+Number(this.form.settlementList[a].channelPrice)+Number(this.form.settlementList[a].promoterPrice))return void this.$message.error("当前价格类型不支持设置此价格，请重新设置")}""==this.form.lowerId?this.$message.error("请选择机构"):""==this.form.superId?this.$message.error("请所属上游"):""==this.form.proId?this.$message.error("请选择产品名称"):1==this.form.relationType&&""==this.form.channelId?this.$message.error("请选择渠道"):2==this.form.relationType&&""==this.form.promoterId?this.$message.error("请选择推广员"):this.$refs[e].validate((function(e){if(!e)return!1;"-1"==t.editStatus?Object(s["x"])(t.form).then((function(e){0==e.code?(t.$message.success("保存成功"),t.$router.push("/addweb/downstreamManagement/cooperativeNumber?relationType="+t.form.relationType)):t.$message.error(e.msg)})):Object(s["C"])(t.form).then((function(e){0==e.code?(t.$message.success("编辑成功"),t.$router.push("/addweb/downstreamManagement/cooperativeNumber?relationType="+t.form.relationType)):t.$message.error(e.msg)}))}))}}},n=o,m=(r("1ba6"),r("2877")),c=Object(m["a"])(n,i,a,!1,null,"2c4ff6dc",null);t["default"]=c.exports}}]);