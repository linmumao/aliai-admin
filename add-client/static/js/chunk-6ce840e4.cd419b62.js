(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ce840e4"],{"19ea":function(e,o,t){},"60d4":function(e,o){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABHdJREFUWEftl39oHEUUx9+bG8iPv1Lwj7tYMIIFhQoVIlpQjEQxYsX4lxYFhfyYPa6lBvpHiogrBoxoSYwsN3v4h4J/FBSMVLGFgi1GKihUsH8oFhpBbhOiUDCBgLv75JVZ2V727mabKwniwMHBzrz5zHtv3nwfwi4fuMv54L8NODc319fd3b0XAG4DgL/jOF5dW1tbdl037FRkcntQaz2IiC8AwAgA3J0Bsk5EPwghFjc2Nj6ampq6th1Ya0Df9x8gollEHMqx4SYA6CAITriuy/9zj7aAruvK/v7+1+M4nkZE2bDDJhFdAYA/AKAbETnc/Gscy4j48uTk5IW8hC0BXdftLhaLnyDiocQwEXF+fUxEp1ZXVy80esbzvGKhUHgKEY8AwIEUEB/mecdxPs8D2RSQPVcqlU6bXEtsngnD8GilUmGvtR1a6+cAYB4RizyZD4eIo0qpL9suNhOaAvq+/yoAzKQ8N7OysvJG3htarVYHhBBfpS7UupRycGxs7BcbyExAz/MOSCkvcl6Zk884jvOajcGsOSbsFxFxwHxfUko9bGMvE9D3/c8AYNTAnXcc51EbY63mVKvV/Yh4KbloRDRqk49bAI33LpnNNuM4vr9cLl/eLiCv933/LQCYzuPFLYANRhaVUs92Ao5t8MvT09OzlngxjuM7y+Xyciv7WwC11j8h4n5eFMfxSLlcPtspQLajtT6dKltHlFKeNaCpe3/xCbkkRFG0p1KprHcY8BgizhubHyilJqwBPc+7S0r5q1lwRSm1r5NwbMvzvBEpJZcdHueUUo/nAeTyklyQH5VS990CwFx73JCD6RtMRJcdx7n3FgA+JKX8xpSw7xzHOZjHg0UpZWAWXFNK7ek0ID9/iHjK2G1bJbLKzJoRoBCG4T7bd9f2IFrrdxDxuJk/q5Q6Ye3BjDJwXCl10nZzm3la66vJk2dTxrI8+BIAfJjc5CAI7skrEJqBaq2fQcTFJIWCICi1E7JbALna9/b2XgWAPmPIUUr5Nt5pNYdrbKlUYgGSaMR5pdRUO7vNxEJaauWSR802bHhCN4UQAxMTE6s3BWhOy/UwaYqWC4XC0Pj4+G/tDGZ9r9Vqx4goeT14inVuNxWsLI+EEN8nmhAAfkfEF/P0FUaVv5lSMAx3JgiCp23zumVPUqvVniAiTurrwpUHImohxGwrb5pGaziO43cT4WEK81IURU/med/bdnVa62FukpK+IhXCcwBwHhF/jqLoTyKShULhdgAYJKJDKfV8fQkRfRFF0WGGM9G5IwiCs+082RaQjS8sLOzt6up6P1HZOfOQG/eZIAjeY5h06iDip/V6/XArSCvABKhWqz3C/TEAPJbRIzdyMxinw3z6tlar1SEhxNeplGkJmQswMcpNkBBiWAjxIDfqRNSHiCERrXDIEXGpXq9/28wzWus5RHzFBvKmAHOGOHO6LeSOATK1DeSOAmZBEtG04zhv/xv+ToRruzYaPHmDBNtxDyaH831fAUAxDMOT6UK+awCbReF/wO3m5z85jvk4aaQFMAAAAABJRU5ErkJggg=="},a906:function(e,o,t){"use strict";t.r(o);var i=function(){var e=this,o=e.$createElement,i=e._self._c||o;return i("div",{staticClass:"themeBgc allPage flex_c_ic"},[i("div",{staticClass:"neiBody flex_rsb"},[i("div",{staticClass:"neiLeft flex_c_ic"},[i("div",{staticClass:"neiLTopBox"},[i("el-input",{staticClass:"searchInput",attrs:{maxlength:"35",placeholder:"搜索机构"},nativeOn:{keyup:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.enterSeach.apply(null,arguments)}},model:{value:e.orgName,callback:function(o){e.orgName=o},expression:"orgName"}},[i("div",{staticClass:"imgthisbox",attrs:{slot:"suffix"},slot:"suffix"},[i("img",{staticClass:"imgSerch c_pointer",attrs:{src:t("60d4"),alt:""},on:{click:e.enterSeach}})])])],1),e._m(0),e._m(1),i("div",{staticClass:"listBody"},[i("el-tree",{attrs:{data:e.orgTreeList,"node-key":"id","default-expand-all":"","expand-on-click-node":!1},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(o){o.node;var t=o.data;return i("span",{staticClass:"custom-tree-node",on:{mouseover:function(o){return e.mouseover(t,o)}}},[i("span",{staticClass:"nodeTreeText"},[e._v(e._s(t.orgName))]),i("span",[e.mouseleId==t.orgId?i("i",{staticClass:"el-icon-circle-plus-outline editOM1 themeC",on:{click:function(o){return e.MeditOMadd(t)}}}):e._e(),e.mouseleId==t.orgId?i("i",{staticClass:"el-icon-edit editOM themeC",on:{click:function(o){return e.MeditOM(t)}}}):e._e()])])}}])})],1)]),i("div",{staticClass:"neiRight flex_c_ic"},[i("img",{staticClass:"NewNeiRimg",attrs:{src:e.newForm.logoUrl}}),i("div",{staticClass:"NewNeiRText"},[e._v(e._s(e.newForm.orgName))]),i("div",{staticClass:"NewNeiRBox"},[i("div",{staticClass:"newOne flex_r_ic",staticStyle:{"margin-top":"49px"}},[i("div",[e._v("隶属机构：")]),i("div",{staticStyle:{color:"#333333"}},[e._v(e._s(e.newForm.parentOrgName))])]),i("div",{staticClass:"newOne flex_r_ic",staticStyle:{"margin-top":"20px"}},[i("div",[e._v("行业类型：")]),i("div",{staticStyle:{color:"#333333"}},[e._v(e._s(e.newForm.tradeName))])]),i("div",{staticClass:"newOne flex_r",staticStyle:{"margin-top":"20px"}},[i("div",[e._v("角色类型：")]),i("div",{staticStyle:{color:"#333333"}},[i("div",{staticClass:"newOneRoleBox flex_r_fw"},e._l(e.newForm.roleList,(function(o,t){return i("div",{key:o.roleId,staticClass:"miniRoleBOX"},[e._v(e._s(o.roleName))])})),0)])]),i("div",{staticClass:"newOne flex_r_ic",staticStyle:{"margin-top":"20px"}},[i("div",[e._v("机构地址：")]),i("div",{staticStyle:{color:"#333333"}},[e._v(e._s(e.newForm.addressInfo))])])])])])])},s=[function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"neiTitel flex_rsb_aic"},[t("div",[e._v("机构列表")])])},function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"listBtop flex_rsb_aic"},[t("div",[e._v("机构名称")]),t("div",[e._v("操作")])])}],n=(t("ac1f"),t("5319"),t("d3b7"),t("3ca3"),t("ddb0"),t("2b3d"),t("e072")),r=t("4b90"),c={data:function(){return{mouseleId:"",newForm:"",homeUrl:"",seIndex:0,orgList:[],orgTreeList:[],defaultProps:{children:"children",label:"orgName"},input1:"",input:"",oneOrgId:"",tradeList:[],provinceList:[],cityList:[],urbanList:"",orgName:"",form:{address:"",cityId:"",logoUrl:"",orgName:"",parentId:"",provinceId:"",tradeId:"",urbanId:"",orgId:""},value:"",imageUrl:""}},created:function(){var e=this;console.log("homeUrl"),console.log(r["a"]),this.homeUrl=r["a"],console.log("homeUrl2"),console.log(this.homeUrl),Object(n["Q"])().then((function(o){console.log("Treeres:",o),0==o.code?(console.log("-------------------------"),console.log(o.orgTree),console.log(e.orgTreeList),e.orgTreeList.push(o.orgTree),console.log(e.orgTreeList),console.log("-------------------------"),e.oneOrgId=e.orgTreeList[0].orgId,e.MqueryInfoByOrgId()):console.log(o.msg)})),Object(n["vb"])().then((function(o){console.log("res:",o),0==o.code?e.tradeList=o.tradeList:console.log(o.msg)})),Object(n["Y"])().then((function(o){console.log("res:",o),0==o.code?e.provinceList=o.provinceList:console.log(o.msg)}))},methods:{mouseover:function(e,o){this.mouseleId=e.orgId},MeditOMadd:function(e){this.$router.push({path:"/addweb/systemManagement/addOrganization",query:{orgIdadd:e.orgId,orgNameadd:e.orgName}})},MeditOM:function(e){this.$router.push({path:"/addweb/systemManagement/addOrganization",query:{orgId:e.orgId}})},append:function(e){var o={id:id++,label:"testtest",children:[]};e.children||this.$set(e,"children",[]),e.children.push(o)},handleNodeClick:function(e){console.log(e),this.oneOrgId=e.orgId,this.MqueryInfoByOrgId()},saveOrg:function(){var e=this;console.log(this.form),this.form.orgName=this.form.orgName.replace(/ /g,""),this.form.address=this.form.address.replace(/ /g,""),Object(n["R"])(this.form).then((function(o){console.log("保存修改机构:",o),0==o.code?(e.$message.success("保存成功"),e.oneOrgId=e.form.orgId,e.MorganizeQueryList()):e.$message.error(o.msg)}))},changeCity:function(e){var o=this;console.log(e),Object(n["ab"])({cityId:this.form.cityId}).then((function(e){console.log("角色信息:",e),0==e.code?o.urbanList=e.urbanList:console.log(e.msg)}))},changeCity2:function(e){var o=this;console.log(e),Object(n["ab"])({cityId:this.form.cityId}).then((function(e){console.log("角色信息:",e),0==e.code?(o.urbanList=e.urbanList,o.form.urbanId=o.urbanList[0].urbanId):console.log(e.msg)}))},changePro:function(e){var o=this;console.log(e),Object(n["S"])({provinceId:this.form.provinceId}).then((function(e){console.log("cityList:",e),0==e.code?o.cityList=e.cityList:console.log(e.msg)}))},changePro2:function(e){var o=this;console.log(e),Object(n["S"])({provinceId:this.form.provinceId}).then((function(e){console.log("cityList:",e),0==e.code?(o.cityList=e.cityList,o.form.cityId=o.cityList[0].cityId,Object(n["ab"])({cityId:o.form.cityId}).then((function(e){console.log("角色信息:",e),0==e.code?(o.urbanList=e.urbanList,o.form.urbanId=o.urbanList[0].urbanId):console.log(e.msg)}))):console.log(e.msg)}))},enterSeach:function(){var e=this;this.orgName=this.orgName.replace(/ /g,""),Object(n["O"])({orgName:this.orgName}).then((function(o){console.log("查询信息:",o),0==o.code?(e.orgTreeList=o.orgList,e.oneOrgId=e.orgTreeList[0].orgId,e.MqueryInfoByOrgId()):console.log(o.msg)}))},MorganizeQueryList:function(){var e=this;Object(n["P"])().then((function(o){console.log("res:",o),0==o.code?(e.orgList=o.orgList,e.MqueryDetailByOrgId()):console.log(o.msg)}))},MqueryDetailByOrgId:function(){var e=this;Object(n["T"])({orgId:this.oneOrgId}).then((function(o){console.log("res:",o),0==o.code?(e.imageUrl=o.orgDetail.logoUrl,e.form=o.orgDetail,e.changePro(),e.changeCity()):console.log(o.msg)}))},MqueryInfoByOrgId:function(){var e=this;Object(n["U"])({orgId:this.oneOrgId}).then((function(o){console.log("res=============:",o),0==o.code?e.newForm=o.orgInfo:console.log(o.msg)}))},cutSe:function(e,o){this.seIndex=e,console.log(o),this.oneOrgId=o.orgId,this.MqueryDetailByOrgId()},addOrganization:function(){this.$router.push("addOrganization")},handleAvatarSuccess:function(e,o){console.log(e),console.log(o),0==e.code&&(this.form.logoUrl=e.url,this.imageUrl=URL.createObjectURL(o.raw))},beforeAvatarUpload:function(e){var o=e.size/1024/1024<1;console.log(e.type);var t="image/jpeg"===e.type,i="image/png"===e.type;return o&&t||o&&i?console.log("222222"):this.$message.error("上传头像只能是PNG或JPG格式，并且不能大于1M"),console.log(t&&o||i&&o),o&&t||o&&i}},mounted:function(){}},a=c,l=(t("cc7c"),t("2877")),d=Object(l["a"])(a,i,s,!1,null,"17a8e7a6",null);o["default"]=d.exports},cc7c:function(e,o,t){"use strict";t("19ea")}}]);